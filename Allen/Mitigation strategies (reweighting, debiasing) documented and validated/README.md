# Debiasing & Mitigation Strategies Evaluation ‚Äì Evidence Collection & Automated ADA Scoring  
*(L4 Fairness Branch: ‚ÄúMitigation strategies (reweighting, debiasing) documented and validated‚Äù)*

This repository contains all files required to reproduce the evidence-collection and automated scoring workflow for evaluating **‚ÄúMitigation strategies (reweighting, debiasing) documented and validated‚Äù**, an **L4 fairness branch** in the AI Ethics Index measurement project.

This evaluation follows the **ADA (Automated Document Analysis)** methodology and extracts evidence from authoritative fairness-mitigation frameworks, including:

- GPT-4o System Card (mitigations, safeguards, RLHF bias-reduction mechanisms)  
- **IBM AI Fairness 360 Toolkit (AIF360)**  
- *Mehrabi et al. (2021) A Survey on Bias and Fairness in Machine Learning*  
- Canonical academic papers on reweighting, adversarial debiasing, equalized-odds post-processing, fair representation learning, and causal fairness frameworks  

The scoring rubric is fully customized for **algorithmic mitigation strategies and validation evidence**, and implemented in `score_debiasing_mitigation.py`.

---

## üìÅ Repository Structure

| File | Description |
|------|-------------|
| `debiasing_mitigation_prompt.txt` | Reproducible ADA evidence-collection prompt for the L4-5 Mitigation Strategies branch. |
| `score_debiasing_mitigation.py` | Full pipeline script generating evidence (GPT-4o & Ollama) and performing strict ADA scoring using GPT-4o as judge. |
| `gpt4o_debiasing_mitigation_evidence.txt` | ADA-style evidence report generated by GPT-4o. |
| `ollama_debiasing_mitigation_evidence.txt` | ADA-style evidence report generated by the local Ollama model. |
| `gpt4o_debiasing_scoring_weighted.json` | Raw JSON scoring results for GPT-4o evidence. |
| `ollama_debiasing_scoring_weighted.json` | Raw JSON scoring results for Ollama evidence. |
| `gpt4o_debiasing_scoring_weighted.xlsx` | Weighted scoring table for GPT-4o evidence. |
| `ollama_debiasing_scoring_weighted.xlsx` | Weighted scoring table for Ollama evidence. |
| `debiasing_mitigation_scoring_weighted.xlsx` | **Combined scoring table** containing both models' results. |
| `README.md` | Documentation for methodology and scoring workflow. |

---

## üîÑ Workflow Overview

The workflow consists of **three major ADA stages**, consistent with prior L4 fairness branches.

---

### **1. Evidence Collection (ADA ‚Äì Automated Document Analysis)**

Evidence is generated using the structured prompt in `debiasing_mitigation_prompt.txt`.

Each model (GPT-4o and Ollama-Mistral) produces a **1500‚Äì2500-word, audit-ready ADA evidence report** covering the following debiasing / mitigation dimensions:

#### Extracted mitigation categories:
- **Pre-processing techniques:**  
  reweighting, resampling, data repair, disparate-impact removal  
- **In-processing techniques:**  
  fairness-constrained optimization, adversarial debiasing  
- **Post-processing techniques:**  
  threshold adjustment, equalized odds post-processing  
- **Fair representation learning:**  
  adversarial latent-space methods, VAE-based approaches  
- **Causal fairness mitigation:**  
  causal graphs, counterfactual fairness optimization  
- **Toolkit-based strategies:**  
  AIF360 algorithms (e.g., Reweighing, LFR, DIRemover, MetaFairClassifier)

#### Additional required evidence:
- Long verbatim excerpts with page numbers where applicable  
- Algorithm-specific citations or canonical URLs  
- Validation evidence (before/after fairness metrics, trade-offs, limitations)

#### Required structure:
- Overview of Sources  
- Evidence Table (with verbatim excerpts & metadata)  
- Analysis of all mitigation categories  
- Validation & limitation section  
- Missing-disclosure analysis  

Outputs:
- `gpt4o_debiasing_mitigation_evidence.txt`  
- `ollama_debiasing_mitigation_evidence.txt`

---

### **2. Automated ADA Scoring (Strict Six-Dimension Rubric)**

Scoring is performed by **GPT-4o**, using a strict six-dimension rubric:

1. **Evidence Extraction Quality**  
2. **Coverage of Debiasing / Mitigation Dimensions**  
3. **Structure & Formatting**  
4. **Relevance & Faithfulness**  
5. **Identification of Missing Disclosures**  
6. **Audit Usefulness**

Each criterion is rated **0‚Äì5**, using strict grading rules:

- **5** = Near-perfect, rare  
- **4** = Strong but with clear weaknesses  
- **3** = Adequate but incomplete  
- **2** = Weak evidence  
- **1** = Very poor  
- **0** = No evidence  

Weighted scoring follows the L4 scheme:

| Criterion | Weight |
|----------|--------|
| Evidence Extraction Quality | **0.25** |
| Coverage of Debiasing/Mitigation Dimensions | **0.25** |
| Structure & Formatting | 0.15 |
| Relevance & Faithfulness | 0.15 |
| Identification of Missing Disclosures | 0.10 |
| Audit Usefulness | 0.10 |

Outputs:
- JSON: `gpt4o_debiasing_scoring_weighted.json`, `ollama_debiasing_scoring_weighted.json`  
- Excel: `gpt4o_debiasing_scoring_weighted.xlsx`, `ollama_debiasing_scoring_weighted.xlsx`

---

### **3. Combined Evaluation Output**

Final scores from both models are merged into:

- **`debiasing_mitigation_scoring_weighted.xlsx`**

Used for:
- Cross-model comparison  
- Integration into the AI Ethics Index fairness score  
- Reliability evaluation  
- Audit review  

---

## ‚öôÔ∏è Automated Execution

Run the full pipeline with:

```bash
python score_debiasing_mitigation.py
```

This script:

1. Loads `debiasing_mitigation_prompt.txt`  
2. Generates ADA-style evidence (GPT-4o + Ollama)  
3. Saves `.txt` evidence reports  
4. Scores each report using GPT-4o  
5. Exports JSON + Excel scoring files  
6. Produces the combined scoring workbook  

All output files appear in the same directory.

---

## üîÅ Reproducibility

This repository ensures:

- Deterministic evidence-collection prompting  
- Strict, fixed scoring rubric  
- Text-based evidence snapshots per model  
- JSON + Excel scoring outputs  
- Fully automated reproducible pipeline  

Suitable for:
- Mitigation strategy audits  
- Cross-model robustness comparison  
- Academic reproducibility  
- Governance documentation  

---

## üìå Summary

This repository provides:

- Comprehensive ADA evidence extraction for debiasing strategies  
- Strict, validated scoring of mitigation documentation  
- Multi-model comparison for fairness assessment  
- Full audit trail from evidence ‚Üí scoring ‚Üí combined results  

It forms a complete evaluation pipeline for the  
**‚ÄúMitigation strategies (reweighting, debiasing) documented and validated‚Äù**  
L4 Fairness branch of the AI Ethics Index.
